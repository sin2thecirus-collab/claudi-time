<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Kandidatenprofil {{ candidate_ref }}</title>
  <style>
    /* Fonts — lokal eingebettet für WeasyPrint */
    @font-face {
      font-family: 'DM Sans';
      src: url('{{ font_dir }}/DMSans-Regular.ttf') format('truetype');
      font-weight: 100 900;
      font-style: normal;
    }
    @font-face {
      font-family: 'DM Sans';
      src: url('{{ font_dir }}/DMSans-Italic.ttf') format('truetype');
      font-weight: 100 900;
      font-style: italic;
    }
    @font-face {
      font-family: 'DM Serif Display';
      src: url('{{ font_dir }}/DMSerifDisplay-Regular.ttf') format('truetype');
      font-weight: 400;
      font-style: normal;
    }

    @page { size: A4; margin: 0; }
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --brand: #0b89bd;
      --brand-dark: #087099;
      --brand-light: #0d9dd6;
      --brand-glow: #10b5f0;
      --navy: #0f172a;
      --blue-deep: #0b89bd;
      --blue: #0b89bd;
      --cyan: #0d9dd6;
      --white: #FFFFFF;
      --bg-subtle: #FFFFFF;
      --text: #0f172a;
      --text-sec: #334155;
      --text-muted: #64748b;
      --text-subtle: #94a3b8;
      --border: #E2E8F0;
      --gradient-header: linear-gradient(145deg, #076a94 0%, #0b89bd 40%, #0d9dd6 75%, #10b5f0 100%);
      --gradient-bar: linear-gradient(90deg, #0b89bd, #10b5f0);
    }

    html { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }

    body {
      font-family: 'DM Sans', -apple-system, sans-serif;
      font-size: 12px;
      line-height: 1.6;
      color: var(--text-sec);
      background: var(--white);
    }

    /* ═══════════════════════════════════════════════ */
    /*   SEITE 1 — DECKBLATT                          */
    /* ═══════════════════════════════════════════════ */

    .page {
      width: 210mm;
      height: 297mm;
      background: var(--white);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      position: relative;
      page-break-after: always;
    }
    .page:last-child { page-break-after: auto; }

    /* Seitenrand-Akzent links */
    .page::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 5px;
      background: var(--gradient-bar);
      z-index: 10;
    }

    /* ── GRADIENT HEADER ── */
    .hero-header {
      background: var(--gradient-header);
      padding: 22px 48px 16px 48px;
      position: relative;
      overflow: hidden;
      flex-shrink: 0;
    }

    /* KI-Netzwerk-Dekoration im Header */
    .hero-pattern {
      position: absolute;
      right: 0;
      top: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }

    /* Akzent-Ring oben rechts */
    .hero-header::after {
      content: '';
      position: absolute;
      right: -20px;
      top: -20px;
      width: 220px;
      height: 220px;
      border: 30px solid rgba(255,255,255,0.07);
      border-radius: 50%;
      z-index: 1;
    }

    .hero-top {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 14px;
      position: relative;
      z-index: 2;
    }

    /* WEISSE Logo-Version (kein CSS filter noetig) */
    .hero-logo {
      height: 76px;
      width: auto;
    }

    .hero-badges {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 6px;
    }

    .badge-conf {
      font-size: 7.5px;
      font-weight: 700;
      color: rgba(255,255,255,0.8);
      letter-spacing: 2.5px;
      text-transform: uppercase;
      background: rgba(255,255,255,0.1);
      border: 1px solid rgba(255,255,255,0.15);
      padding: 4px 14px;
      border-radius: 4px;
    }

    .badge-date {
      font-size: 10px;
      color: rgba(255,255,255,0.5);
      font-weight: 500;
    }

    .hero-content {
      position: relative;
      z-index: 2;
    }

    .hero-label {
      font-size: 11px;
      font-weight: 700;
      color: rgba(255,255,255,0.85);
      letter-spacing: 5px;
      text-transform: uppercase;
      margin-bottom: 5px;
    }

    .hero-title {
      font-family: 'DM Serif Display', serif;
      font-size: 28px;
      font-weight: 400;
      color: var(--white);
      line-height: 1.15;
      margin-bottom: 5px;
    }

    .hero-meta {
      font-size: 14px;
      color: rgba(255,255,255,0.65);
      line-height: 1.5;
    }

    .hero-meta strong {
      color: var(--white);
      font-weight: 600;
    }

    .hero-bottom {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px;
    }

    .hero-ref {
      font-size: 13px;
      font-weight: 700;
      color: var(--white);
      letter-spacing: 1px;
      background: rgba(255,255,255,0.12);
      border: 1px solid rgba(255,255,255,0.2);
      padding: 5px 16px;
      border-radius: 5px;
    }

    .hero-dots {
      display: flex;
      gap: 6px;
    }
    .hero-dots span {
      width: 6px; height: 6px; border-radius: 50%;
    }
    .hero-dots span:nth-child(1) { background: var(--white); }
    .hero-dots span:nth-child(2) { background: var(--white); opacity: 0.5; }
    .hero-dots span:nth-child(3) { background: var(--white); opacity: 0.2; }

    /* ── CONTENT BEREICH ── */
    .page-content {
      flex: 1;
      padding: 20px 48px 0 48px;
      display: flex;
      flex-direction: column;
      position: relative;
    }

    /* Mittlerer Bereich — vertikal zentriert zwischen Eckdaten und Visitenkarte */
    .mid-center-area {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      overflow: hidden;
    }

    /* Section Headings — Premium Tech */
    .sh {
      font-size: 11px;
      font-weight: 800;
      color: var(--navy);
      letter-spacing: 2.5px;
      text-transform: uppercase;
      margin-bottom: 12px;
      padding-bottom: 8px;
      border-bottom: none;
      display: flex;
      align-items: center;
      gap: 8px;
      position: relative;
      z-index: 1;
    }

    /* Gradient-Linie unter Section Headings */
    .sh::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--brand) 0%, var(--brand-glow) 30%, rgba(16, 181, 240, 0.08) 70%, transparent 100%);
    }

    .sh::before {
      content: '';
      width: 8px;
      height: 8px;
      background: var(--brand);
      border-radius: 50%;
      flex-shrink: 0;
    }

    /* ── ECKDATEN ── */
    .facts-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 8px;
      margin-bottom: 0;
    }

    .fact-card {
      background: var(--white);
      border: 1px solid rgba(226, 232, 240, 0.7);
      border-radius: 10px;
      padding: 14px 16px;
      position: relative;
      overflow: hidden;
      z-index: 1;
      box-shadow: 0 1px 3px rgba(11, 137, 189, 0.06), 0 4px 16px rgba(0, 0, 0, 0.04), 0 8px 30px rgba(11, 137, 189, 0.03);
    }

    /* Gradient-Top Akzent */
    .fact-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: var(--gradient-bar);
    }

    .fact-label {
      display: inline-block;
      font-size: 8px;
      font-weight: 700;
      color: var(--brand);
      background: rgba(11, 137, 189, 0.06);
      padding: 2px 8px;
      border-radius: 3px;
      margin-bottom: 5px;
      text-transform: uppercase;
      letter-spacing: 0.8px;
    }

    .fact-value {
      font-size: 15px;
      font-weight: 800;
      color: var(--navy);
      line-height: 1.15;
    }

    .fact-detail {
      font-size: 10.5px;
      color: var(--text-muted);
      margin-top: 2px;
    }

    /* ── KURZPROFIL + SPRACHEN ── */
    .mid-row {
      display: flex;
      gap: 22px;
      margin-bottom: 22px;
    }

    .mid-left {
      flex: 5.5;
      background: var(--white);
      border: 1px solid rgba(226, 232, 240, 0.7);
      border-radius: 10px;
      padding: 18px 18px 14px 18px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 1px 3px rgba(11, 137, 189, 0.06), 0 4px 16px rgba(0, 0, 0, 0.04), 0 8px 30px rgba(11, 137, 189, 0.03);
    }
    .mid-left::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: var(--gradient-bar);
    }
    .mid-right {
      flex: 4.5;
      background: var(--white);
      border: 1px solid rgba(226, 232, 240, 0.7);
      border-radius: 10px;
      padding: 18px 18px 14px 18px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 1px 3px rgba(11, 137, 189, 0.06), 0 4px 16px rgba(0, 0, 0, 0.04), 0 8px 30px rgba(11, 137, 189, 0.03);
    }
    .mid-right::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: var(--gradient-bar);
    }

    .kp-item {
      margin-bottom: 10px;
      border-left: 3px solid var(--brand);
      padding-left: 12px;
      background: linear-gradient(90deg, rgba(11, 137, 189, 0.03) 0%, transparent 100%);
      padding: 8px 12px;
      border-radius: 0 6px 6px 0;
    }

    .kp-label {
      font-size: 11px;
      font-weight: 700;
      color: var(--blue-deep);
      letter-spacing: 0.5px;
      text-transform: uppercase;
      margin-bottom: 3px;
    }

    .kp-text {
      font-size: 13px;
      color: var(--text-sec);
      line-height: 1.65;
    }

    /* Skill Tags — kompakte Chips ohne Kasten */
    .tags-wrap {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      align-items: flex-start;
    }

    .skill-tag {
      background: linear-gradient(135deg, #f8fafc, #f1f5f9);
      border: 1px solid rgba(226, 232, 240, 0.8);
      color: var(--text-sec);
      font-size: 9.5px;
      font-weight: 500;
      padding: 4px 10px;
      border-radius: 4px;
      line-height: 1.2;
      display: inline-block;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
    }

    .skill-tag.highlight {
      background: linear-gradient(135deg, var(--brand), var(--brand-light));
      border-color: var(--brand);
      color: var(--white);
      font-weight: 600;
      box-shadow: 0 1px 4px rgba(11, 137, 189, 0.25);
    }

    /* Sprachen — Dashboard Style */
    .lang-item { display: flex; align-items: center; gap: 6px; padding: 5px 0; }
    .lang-name { font-size: 10px; font-weight: 700; color: var(--text); min-width: 65px; }
    .lang-bar-bg { flex: 1; height: 5px; background: rgba(226, 232, 240, 0.5); border-radius: 3px; overflow: hidden; }
    .lang-bar-fill { height: 100%; background: var(--gradient-bar); border-radius: 3px; }
    .lang-level { font-size: 8px; color: var(--brand); font-weight: 600; min-width: 70px; text-align: right; }

    /* ═══════════════════════════════════════════════ */
    /*   VISITENKARTE                                  */
    /* ═══════════════════════════════════════════════ */

    .vcard-footer {
      padding: 20px 48px 18px 48px;
      flex-shrink: 0;
    }

    .vcard {
      background: var(--gradient-header);
      border: none;
      border-radius: 10px;
      overflow: hidden;
      position: relative;
      page-break-inside: avoid;
    }

    /* Dezenter Akzent-Ring (wie im Header) */
    .vcard::after {
      content: '';
      position: absolute;
      right: -20px;
      bottom: -20px;
      width: 120px;
      height: 120px;
      border: 18px solid rgba(255, 255, 255, 0.06);
      border-radius: 50%;
      z-index: 1;
    }

    .vcard-body {
      display: flex;
      padding: 18px 24px;
      gap: 18px;
      align-items: center;
      position: relative;
      z-index: 2;
    }

    .vcard-photo {
      flex-shrink: 0;
      width: 90px;
      height: 90px;
      border-radius: 50%;
      overflow: hidden;
      border: 2.5px solid rgba(255, 255, 255, 0.8);
      box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.15), 0 4px 20px rgba(0, 0, 0, 0.2);
      background: rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .vcard-photo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center top;
      display: block;
    }

    .vcard-sep {
      width: 1.5px;
      height: 70px;
      background: linear-gradient(180deg, rgba(255,255,255,0.4), rgba(255,255,255,0.08));
      flex-shrink: 0;
    }

    .vcard-info { flex: 1; min-width: 0; }

    .vcard-name {
      font-size: 17px;
      font-weight: 700;
      color: var(--white);
      margin-bottom: 1px;
    }

    .vcard-title {
      font-size: 12px;
      color: rgba(255, 255, 255, 0.85);
      font-weight: 600;
      margin-bottom: 8px;
    }

    .vcard-contact { display: flex; flex-direction: column; gap: 4px; }

    .vcard-row {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 12px;
      color: rgba(255, 255, 255, 0.7);
      line-height: 1.3;
    }

    .vcard-icon {
      display: inline-block;
      width: 14px;
      height: 14px;
      flex-shrink: 0;
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
    }
    .vcard-icon-email {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%230b89bd' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='2' y='4' width='20' height='16' rx='2'/%3E%3Cpath d='m2 4 10 8 10-8'/%3E%3C/svg%3E");
    }
    .vcard-icon-phone {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%230b89bd' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.127.96.361 1.903.7 2.81a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0 1 22 16.92z'/%3E%3C/svg%3E");
    }
    .vcard-icon-address {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%230b89bd' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z'/%3E%3Ccircle cx='12' cy='10' r='3'/%3E%3C/svg%3E");
    }
    .vcard-icon-web {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%230b89bd' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Cpath d='M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z'/%3E%3C/svg%3E");
    }

    .vcard-brand {
      flex-shrink: 0;
      display: flex;
      align-items: center;
    }

    /* Transparentes Logo */
    .vcard-brand img {
      height: 86px;
      width: auto;
    }

    /* White icons for dark gradient vcard */
    .vcard .vcard-icon-email {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-opacity='0.85' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='2' y='4' width='20' height='16' rx='2'/%3E%3Cpath d='m2 4 10 8 10-8'/%3E%3C/svg%3E");
    }
    .vcard .vcard-icon-phone {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-opacity='0.85' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.127.96.361 1.903.7 2.81a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0 1 22 16.92z'/%3E%3C/svg%3E");
    }
    .vcard .vcard-icon-address {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-opacity='0.85' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z'/%3E%3Ccircle cx='12' cy='10' r='3'/%3E%3C/svg%3E");
    }
    .vcard .vcard-icon-web {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-opacity='0.85' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Cpath d='M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z'/%3E%3C/svg%3E");
    }


    /* ═══════════════════════════════════════════════ */
    /*   SEITE 2+: LEBENSLAUF                          */
    /* ═══════════════════════════════════════════════ */

    .cv-pages {
      width: 210mm;
      min-height: 297mm;
      background: var(--white);
      position: relative;
      padding-top: 0;
    }

    /* Seitenrand-Akzent links */
    .cv-pages::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 5px;
      background: var(--gradient-bar);
    }

    .cv-top-accent {
      height: 4px;
      background: var(--gradient-bar);
    }

    .cv-header-strip {
      background: var(--white);
      padding: 20px 48px 14px 48px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 2px solid var(--border);
    }

    .cv-header-left {
      display: flex;
      align-items: center;
      gap: 14px;
    }

    /* Icon-Logo fuer CV-Header (nur Symbol, ohne Text) */
    .cv-header-logo {
      height: 48px;
      width: auto;
    }

    .cv-header-divider {
      width: 1.5px;
      height: 28px;
      background: var(--border);
    }

    .cv-header-title {
      font-family: 'DM Serif Display', serif;
      font-size: 20px;
      color: var(--text);
    }

    .cv-header-ref {
      font-size: 12px;
      font-weight: 700;
      color: var(--brand);
      letter-spacing: 0.5px;
    }

    .cv-body {
      padding: 20px 48px 28px 48px;
    }

    .cv-section { margin-top: 20px; }

    /* CV Section Headings — Premium Pill */
    .cv-body .sh {
      font-size: 11px;
      background: linear-gradient(180deg, rgba(248, 250, 252, 0.5) 0%, var(--white) 100%);
      border: 1px solid rgba(226, 232, 240, 0.7);
      border-radius: 8px;
      padding: 9px 18px;
      margin-bottom: 12px;
      page-break-after: avoid;
      box-shadow: 0 1px 3px rgba(11, 137, 189, 0.06), 0 4px 16px rgba(0, 0, 0, 0.04);
      overflow: hidden;
      position: relative;
    }

    /* Gradient-Top Akzent */
    .cv-body .sh::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: var(--gradient-bar);
      width: auto;
      border-radius: 0;
    }

    /* Job Cards — Premium Floating Card */
    .job-card {
      background: linear-gradient(180deg, rgba(248, 250, 252, 0.5) 0%, var(--white) 100%);
      border: 1px solid rgba(226, 232, 240, 0.7);
      border-radius: 10px;
      padding: 16px 20px;
      margin-bottom: 10px;
      page-break-inside: avoid;
      position: relative;
      overflow: hidden;
      box-shadow: 0 1px 3px rgba(11, 137, 189, 0.06), 0 4px 16px rgba(0, 0, 0, 0.04), 0 8px 30px rgba(11, 137, 189, 0.03);
    }

    /* Gradient-Top Akzent (wie Fact Cards) */
    .job-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: var(--gradient-bar);
    }

    .job-card.older::before {
      background: linear-gradient(90deg, #b0bec5, rgba(176, 190, 197, 0.2));
    }

    .job-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 4px;
    }

    .job-title { font-size: 13px; font-weight: 700; color: var(--navy); }

    .job-date {
      font-size: 9px;
      font-weight: 700;
      color: var(--brand);
      background: linear-gradient(135deg, rgba(11, 137, 189, 0.08), rgba(13, 157, 214, 0.05));
      padding: 3px 10px;
      border-radius: 3px;
      letter-spacing: 0.3px;
      white-space: nowrap;
      border: 1px solid rgba(11, 137, 189, 0.12);
    }

    .job-company {
      font-size: 11px;
      font-weight: 600;
      color: var(--brand);
      margin-bottom: 8px;
      padding-bottom: 8px;
      border-bottom: 1px solid var(--border);
    }

    .job-bullets { list-style: none; }

    .job-bullets li {
      font-size: 11px;
      color: var(--text-sec);
      padding-left: 14px;
      position: relative;
      margin-bottom: 2px;
      line-height: 1.5;
    }

    .job-bullets li::before {
      content: "\25B8";
      position: absolute;
      left: 0;
      color: var(--brand);
      font-size: 10px;
      top: 1px;
    }

    /* Ausbildung */
    .edu-card {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: var(--bg-subtle);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px 18px;
      margin-bottom: 8px;
      page-break-inside: avoid;
    }

    .edu-name { font-size: 12px; font-weight: 700; color: var(--text); }
    .edu-inst { font-size: 10.5px; color: var(--text-muted); margin-top: 1px; }
    .edu-date { font-size: 10px; color: var(--text-muted); font-weight: 600; white-space: nowrap; }

    /* Zertifikate */
    .cert-card {
      display: flex;
      align-items: center;
      gap: 12px;
      background: rgba(30, 64, 175, 0.04);
      border: 1px solid rgba(30, 64, 175, 0.1);
      border-radius: 8px;
      padding: 12px 18px;
      margin-bottom: 8px;
      page-break-inside: avoid;
    }

    .cert-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: var(--gradient-bar);
      flex-shrink: 0;
    }

    .cert-text { font-size: 12px; font-weight: 600; color: var(--text); }
    .cert-inst { font-size: 10px; color: var(--text-muted); margin-top: 1px; }

    .cert-badge {
      margin-left: auto;
      font-size: 8.5px;
      font-weight: 700;
      color: var(--blue-deep);
      background: var(--white);
      padding: 3px 12px;
      border-radius: 4px;
      border: 1px solid rgba(30, 64, 175, 0.15);
      letter-spacing: 0.5px;
      flex-shrink: 0;
    }

    /* ═══════════════════════════════════════════════ */
    /*   SEITENUMBRUCH-SCHUTZ                          */
    /* ═══════════════════════════════════════════════ */

    .job-card, .edu-card, .cert-card, .cv-section, .cv-body .sh {
      orphans: 3;
      widows: 3;
    }

    @media print {
      body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
      .page { page-break-after: always; }
      .page:last-child { page-break-after: auto; }
    }
  </style>
</head>
<body>

<!-- ═══════════════════ SEITE 1: DECKBLATT ═══════════════════ -->
<div class="page">

  <!-- GRADIENT HEADER -->
  <div class="hero-header">
    <!-- KI-Netzwerk Constellation Pattern -->
    <svg class="hero-pattern" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 250" preserveAspectRatio="xMaxYMid slice">
      <!-- Konzentrische Ringe -->
      <circle cx="470" cy="110" r="90" stroke="white" stroke-opacity="0.05" stroke-width="1.2" fill="none"/>
      <circle cx="470" cy="110" r="160" stroke="white" stroke-opacity="0.03" stroke-width="0.8" fill="none"/>
      <circle cx="470" cy="110" r="40" stroke="white" stroke-opacity="0.06" stroke-width="0.6" fill="none"/>
      <!-- Netzwerk-Verbindungen -->
      <g stroke="white" stroke-opacity="0.09" stroke-width="0.7" fill="none">
        <line x1="350" y1="18" x2="420" y2="68"/>
        <line x1="420" y1="68" x2="505" y2="42"/>
        <line x1="420" y1="68" x2="465" y2="138"/>
        <line x1="505" y1="42" x2="555" y2="102"/>
        <line x1="465" y1="138" x2="555" y2="102"/>
        <line x1="350" y1="18" x2="288" y2="82"/>
        <line x1="288" y1="82" x2="372" y2="148"/>
        <line x1="372" y1="148" x2="465" y2="138"/>
        <line x1="288" y1="82" x2="228" y2="152"/>
        <line x1="228" y1="152" x2="372" y2="148"/>
        <line x1="555" y1="102" x2="578" y2="172"/>
        <line x1="465" y1="138" x2="515" y2="198"/>
        <line x1="578" y1="172" x2="515" y2="198"/>
        <line x1="372" y1="148" x2="405" y2="218"/>
        <line x1="515" y1="198" x2="405" y2="218"/>
        <line x1="228" y1="152" x2="158" y2="118"/>
        <line x1="158" y1="118" x2="108" y2="168"/>
        <line x1="108" y1="168" x2="228" y2="152"/>
      </g>
      <!-- Netzwerk-Knoten -->
      <g fill="white" fill-opacity="0.15">
        <circle cx="350" cy="18" r="3"/>
        <circle cx="420" cy="68" r="5"/>
        <circle cx="505" cy="42" r="2.5"/>
        <circle cx="465" cy="138" r="4.5"/>
        <circle cx="555" cy="102" r="3.5"/>
        <circle cx="288" cy="82" r="2.5"/>
        <circle cx="372" cy="148" r="5"/>
        <circle cx="228" cy="152" r="2.5"/>
        <circle cx="578" cy="172" r="2"/>
        <circle cx="515" cy="198" r="3"/>
        <circle cx="405" cy="218" r="2.5"/>
        <circle cx="158" cy="118" r="2"/>
        <circle cx="108" cy="168" r="1.5"/>
      </g>
      <!-- Akzent-Knoten (heller, Key-Nodes) -->
      <g fill="white" fill-opacity="0.4">
        <circle cx="420" cy="68" r="2"/>
        <circle cx="372" cy="148" r="2"/>
        <circle cx="555" cy="102" r="1.5"/>
        <circle cx="465" cy="138" r="1.5"/>
      </g>
    </svg>
    <div class="hero-top">
      <!-- WEISSE Logo-Version (kein CSS filter noetig) -->
      <img class="hero-logo" src="{{ logo_white_path }}" alt="Sincirus Personal" />
      <div class="hero-badges">
        <span class="badge-conf">Vertraulich</span>
        <span class="badge-date">{{ today_date }}</span>
      </div>
    </div>

    <div class="hero-content">
      <div class="hero-label">Kandidatenprofil</div>
      <div class="hero-title">{{ hero_title }}</div>
      {% if hero_meta %}
      <div class="hero-meta">{{ hero_meta | safe }}</div>
      {% endif %}
      <div class="hero-bottom">
        <span class="hero-ref">{{ candidate_ref }}</span>
        <div class="hero-dots">
          <span></span><span></span><span></span>
        </div>
      </div>
    </div>
  </div>

  <!-- CONTENT -->
  <div class="page-content">

    <!-- Eckdaten -->
    {% if quick_facts %}
    <div style="margin-top: 4px;">
      <div class="sh">Eckdaten</div>
      <div class="facts-grid">
        {% for fact in quick_facts %}
        <div class="fact-card">
          <div class="fact-label">{{ fact.label }}</div>
          <div class="fact-value">{{ fact.value }}</div>
          {% if fact.detail %}
          <div class="fact-detail">{{ fact.detail }}</div>
          {% endif %}
        </div>
        {% endfor %}
      </div>
    </div>
    {% endif %}

    <!-- Mittlerer Bereich — vertikal zentriert -->
    <div class="mid-center-area">

    <!-- Kurzprofil (links) + Sprachen (rechts) -->
    {% if kurzprofil_items or languages %}
    <div class="mid-row">
      {% if kurzprofil_items %}
      <div class="mid-left">
        <div class="sh">Kurzprofil</div>
        {% for item in kurzprofil_items %}
        <div class="kp-item">
          <div class="kp-label">{{ item.label }}</div>
          <div class="kp-text">{{ item.text }}</div>
        </div>
        {% endfor %}
      </div>
      {% endif %}
      {% if languages %}
      <div class="mid-right">
        <div class="sh">Sprachen</div>
        {% for lang in languages %}
        <div class="lang-item">
          <span class="lang-name">{{ lang.name }}</span>
          <div class="lang-bar-bg"><div class="lang-bar-fill" style="width:{{ lang.pct }}%;"></div></div>
          <span class="lang-level">{{ lang.level_label }}</span>
        </div>
        {% endfor %}
      </div>
      {% endif %}
    </div>
    {% endif %}

    {% if skill_tags %}
    <div style="margin-top: 4px;">
      <div class="sh">ERP &amp; IT Kenntnisse</div>
      <div class="tags-wrap">
        {% for tag in skill_tags %}
        <span class="skill-tag{% if tag.highlight %} highlight{% endif %}">{{ tag.name }}</span>
        {% endfor %}
      </div>
    </div>
    {% endif %}

    </div><!-- /mid-center-area -->

  </div>

  <!-- VISITENKARTE -->
  <div class="vcard-footer">
    <div class="vcard">
      <div class="vcard-body">
        <div class="vcard-photo">
          <img src="{{ photo_path }}" alt="{{ consultant.name }}" />
        </div>
        <div class="vcard-sep"></div>
        <div class="vcard-info">
          <div class="vcard-name">{{ consultant.name }}</div>
          <div class="vcard-title">{{ consultant.title }}</div>
          <div class="vcard-contact">
            <div class="vcard-row"><span class="vcard-icon vcard-icon-email"></span> {{ consultant.email }}</div>
            <div class="vcard-row"><span class="vcard-icon vcard-icon-phone"></span> {{ consultant.phone }}</div>
            <div class="vcard-row"><span class="vcard-icon vcard-icon-address"></span> {{ consultant.address }}</div>
            <div class="vcard-row"><span class="vcard-icon vcard-icon-web"></span> <span style="color:rgba(255,255,255,0.9);font-weight:600;">www.sincirus.com</span></div>
          </div>
        </div>
        <div class="vcard-brand">
          <!-- Komplettes Sincirus Logo -->
          <img src="{{ logo_komplett_path }}" alt="Sincirus" />
        </div>
      </div>
    </div>
  </div>

</div>


<!-- ═══════════════════ SEITE 2+: LEBENSLAUF ═══════════════════ -->
{% if work_items or edu_items or cert_items %}
<div class="cv-pages">

  <div class="cv-top-accent"></div>

  <!-- Header -->
  <div class="cv-header-strip">
    <div class="cv-header-left">
      <!-- Helles Sincirus Logo -->
      <img class="cv-header-logo" src="{{ logo_hell_path }}" alt="Sincirus" />
      <div class="cv-header-divider"></div>
      <div class="cv-header-title">Lebenslauf</div>
    </div>
    <span class="cv-header-ref">{{ candidate_ref }}</span>
  </div>

  <div class="cv-body">

    <!-- 1. Berufserfahrung -->
    {% if work_items %}
    <div class="sh">Berufserfahrung</div>
    {% for job in work_items %}
    <div class="job-card{% if loop.index > 2 %} older{% endif %}">
      <div class="job-top">
        <span class="job-title">{{ job.title }}</span>
        <span class="job-date">{{ job.date_range }}</span>
      </div>
      <div class="job-company">{{ job.company }}{% if job.note %} &nbsp;&middot;&nbsp; {{ job.note }}{% endif %}</div>
      {% if job.bullets %}
      <ul class="job-bullets">
        {% for bullet in job.bullets %}
        <li>{{ bullet }}</li>
        {% endfor %}
      </ul>
      {% endif %}
    </div>
    {% endfor %}
    {% endif %}

    <!-- 2. Ausbildung -->
    {% if edu_items %}
    <div class="cv-section">
      <div class="sh">Ausbildung</div>
      {% for edu in edu_items %}
      <div class="edu-card">
        <div>
          <div class="edu-name">{{ edu.name }}</div>
          {% if edu.institution %}
          <div class="edu-inst">{{ edu.institution }}</div>
          {% endif %}
        </div>
        {% if edu.date %}
        <span class="edu-date">{{ edu.date }}</span>
        {% endif %}
      </div>
      {% endfor %}
    </div>
    {% endif %}

    <!-- 3. Zertifikate & Weiterbildungen -->
    {% if cert_items %}
    <div class="cv-section">
      <div class="sh">Zertifikate &amp; Weiterbildungen</div>
      {% for cert in cert_items %}
      <div class="cert-card">
        <div class="cert-dot"></div>
        <div>
          <div class="cert-text">{{ cert.name }}</div>
          {% if cert.institution %}
          <div class="cert-inst">{{ cert.institution }}</div>
          {% endif %}
        </div>
        {% if cert.year %}
        <span class="cert-badge">{{ cert.year }}</span>
        {% endif %}
      </div>
      {% endfor %}
    </div>
    {% endif %}

  </div>

</div>
{% endif %}

</body>
</html>
