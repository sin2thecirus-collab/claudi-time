{% if jobs and jobs|length > 0 %}
<ul class="divide-y divide-gray-200">
    {% for job in jobs %}
    <li class="px-4 py-3 hover:bg-gray-50">
        <a href="/kandidaten/{{ candidate_id }}?job={{ job.job_id }}" class="block">
            <div class="flex items-center justify-between">
                <div class="min-w-0 flex-1">
                    <p class="text-sm font-medium text-gray-900 truncate">{{ job.position }}</p>
                    <p class="text-sm text-gray-500 truncate">{{ job.company_name }}</p>
                    {% if job.city %}
                    <p class="text-xs text-gray-400 mt-0.5">{{ job.city }}</p>
                    {% endif %}
                </div>
                <div class="ml-3 flex flex-col items-end space-y-1">
                    {% if job.drive_time_car_min is not none %}
                    <span class="inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium
                        {% if job.drive_time_car_min <= 20 %}bg-green-100 text-green-700
                        {% elif job.drive_time_car_min <= 40 %}bg-yellow-100 text-yellow-700
                        {% else %}bg-gray-100 text-gray-600{% endif %}">
                        {{ job.drive_time_car_min }} min
                    </span>
                    {% if job.drive_time_transit_min is not none %}
                    <span class="inline-flex items-center rounded-full px-1.5 py-0.5 text-[10px] font-medium bg-gray-50 text-gray-500">
                        {{ job.drive_time_transit_min }} min Ã–PNV
                    </span>
                    {% endif %}
                    {% elif job.distance_km is not none %}
                    <span class="inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium
                        {% if job.distance_km <= 10 %}bg-green-100 text-green-700
                        {% elif job.distance_km <= 25 %}bg-yellow-100 text-yellow-700
                        {% else %}bg-gray-100 text-gray-600{% endif %}">
                        {{ job.distance_km }} km
                    </span>
                    {% endif %}
                    {% if job.ai_score is not none %}
                    <span class="inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium
                        {% if job.ai_score * 100 >= 80 %}bg-green-100 text-green-700
                        {% elif job.ai_score * 100 >= 60 %}bg-yellow-100 text-yellow-700
                        {% else %}bg-gray-100 text-gray-600{% endif %}">
                        AI: {{ (job.ai_score * 100)|round(0)|int }}%
                    </span>
                    {% endif %}
                </div>
            </div>
        </a>
    </li>
    {% endfor %}
</ul>
{% if total > jobs|length %}
<div class="px-4 py-2 text-center border-t border-gray-200">
    <span class="text-xs text-gray-500">{{ jobs|length }} von {{ total }} Jobs angezeigt</span>
</div>
{% endif %}
{% else %}
<div class="px-4 py-3 text-center">
    <p class="text-sm text-gray-400">Keine passenden Jobs gefunden</p>
</div>
{% endif %}
